---
- name: Create .tmuxinator directory in home
  file:
    path: '{{ ansible_env.HOME }}/.tmuxinator'
    state: directory
    mode: 0755

- name: Create softlinks to a tmuxinator file
  file:
    dest: '{{ ansible_env.HOME }}/.tmuxinator/{{ item.name }}'
    src: '{{ item.src }}'
    state: link
  with_items: '{{ files }}'

- name: Insert aliases
  blockinfile:
    create: yes
    dest: ~/.zsh.after/aliases.zsh
    marker: '# {mark} ANSIBLE MANAGED BLOCK (tmuxinator)'
    block: |
      alias mux='tmuxinator'
